# ระบบจดจำใบหน้าพร้อมเสียงทักทาย

ระบบจดจำใบหน้าที่สามารถระบุตัวตนและทักทายด้วยเสียงภาษาไทย พร้อมการแสดงผลภาษาไทยบนหน้าจอ

## การติดตั้ง

1. ติดตั้ง Python 3.8 หรือสูงกว่า
2. ติดตั้งไลบรารีที่จำเป็น:
```bash
pip install face-recognition opencv-python numpy tqdm gtts playsound pillow
```

## โครงสร้างโฟลเดอร์
```
project/
├── img/
│   └── faces/
│       ├── ชื่อคน1/
│       │   ├── 1.jpg
│       │   ├── 2.jpg
│       │   └── ...
│       ├── ชื่อคน2/
│       │   ├── 1.jpg
│       │   └── ...
│       └── ...
├── fonts/
│   └── THSarabunNew.ttf
├── train_faces.py
├── recognize_faces.py
└── face_encodings.pkl
```

## การใช้งาน

### 1. การเตรียมรูปภาพ
- สร้างโฟลเดอร์ `img/faces/`
- สร้างโฟลเดอร์ย่อยสำหรับแต่ละคน เช่น `img/faces/ชื่อคน/`
- ใส่รูปภาพใบหน้าของแต่ละคนในโฟลเดอร์ของตัวเอง
- รูปภาพควรเป็นนามสกุล .jpg, .jpeg, หรือ .png
- ควรมีรูปภาพหลายมุมและหลายสภาพแสง

### 2. การเตรียมฟอนต์ภาษาไทย
- สร้างโฟลเดอร์ `fonts/`
- ใส่ไฟล์ฟอนต์ภาษาไทย THSarabunNew.ttf ในโฟลเดอร์ `fonts/`

### 3. การ Train ใบหน้า
```bash
python train_faces.py
```
- โปรแกรมจะอ่านรูปภาพจากโฟลเดอร์ `img/faces/`
- สร้างไฟล์ `face_encodings.pkl` เก็บข้อมูลใบหน้า
- แสดงความคืบหน้าและผลลัพธ์การ train

### 4. การรันระบบจดจำใบหน้า
```bash
python recognize_faces.py
```
- ระบบจะเปิดกล้องและเริ่มจดจำใบหน้า
- แสดงชื่อและค่าความมั่นใจในการจดจำด้วยฟอนต์ภาษาไทย
- พูดทักทายเมื่อพบใบหน้าที่รู้จัก
- กด 'q' เพื่อออกจากโปรแกรม

## คำแนะนำเพิ่มเติม

### การปรับแต่งความแม่นยำ
- เพิ่มจำนวนรูปภาพในการ train (แนะนำอย่างน้อย 10 รูปต่อคน)
- ใช้รูปภาพที่มีคุณภาพดีและแสงเพียงพอ
- ปรับค่า threshold ในไฟล์ `recognize_faces.py`:
  - ค่าต่ำ = เข้มงวดมากขึ้น (ค่าเริ่มต้น 0.4)
  - ค่าสูง = ยืดหยุ่นมากขึ้น

### การปรับแต่งการแสดงผล
- ปรับขนาดฟอนต์ได้ในฟังก์ชัน `put_thai_text` (ค่าเริ่มต้น 48)
- ปรับสีข้อความได้โดยกำหนดค่า RGB ในพารามิเตอร์ `color`
- ปรับตำแหน่งข้อความได้โดยกำหนดค่า `position`

### การใช้งานที่เหมาะสม
- ควรมีแสงสว่างเพียงพอ
- อยู่ห่างจากกล้องประมาณ 1-2 เมตร
- ใบหน้าควรอยู่ในกรอบที่เหมาะสม

## การแก้ไขปัญหา

1. **ปัญหาไม่พบใบหน้า**
   - ตรวจสอบแสงสว่าง
   - ปรับระยะห่างจากกล้อง
   - เพิ่มรูปภาพในการ train

2. **ปัญหาการจดจำผิด**
   - เพิ่มรูปภาพในการ train
   - ปรับค่า threshold
   - ใช้รูปภาพที่มีความหลากหลายมากขึ้น

3. **ปัญหาการแสดงผลภาษาไทย**
   - ตรวจสอบการมีอยู่ของไฟล์ฟอนต์ THSarabunNew.ttf
   - ตรวจสอบการติดตั้ง pillow
   - ตรวจสอบสิทธิ์การเข้าถึงไฟล์ฟอนต์

4. **ปัญหาการเล่นเสียง**
   - ตรวจสอบการติดตั้ง gtts และ playsound
   - ตรวจสอบการเชื่อมต่ออินเทอร์เน็ต
   - ตรวจสอบสิทธิ์การเข้าถึงไฟล์เสียง 